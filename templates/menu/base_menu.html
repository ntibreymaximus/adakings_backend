{% extends 'base.html' %} {% block content %}
<div class="container-fluid py-4">
  <div class="row mb-4">
    <div class="col">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a href="{% url 'dashboard' %}">Dashboard</a>
          </li>
          <li class="breadcrumb-item active">
            {% block menu_title %}Menu{% endblock %}
          </li>
        </ol>
      </nav>
    </div>
  </div>

  {% if messages %}
  <div class="row mb-3">
    <div class="col">
      {% for message in messages %}
      <div
        class="alert alert-{{ message.tags }} alert-dismissible fade show"
        role="alert"
      >
        {{ message }}
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      {% endfor %}
    </div>
  </div>
  {% endif %}

  <div class="row mb-3">
    <div class="col d-flex justify-content-between align-items-center">
      <!-- Navigation Tabs -->
      <ul class="nav nav-tabs">
        <li class="nav-item">
          <a
            href="{% url 'menu:item_list' %}"
            class="nav-link {% if request.resolver_match.url_name == 'item_list' %}active{% endif %}"
          >
            <i class="fas fa-utensils"></i> Menu Items
          </a>
        </li>
        <li class="nav-item">
          <a
            href="{% url 'menu:extra_list' %}"
            class="nav-link {% if request.resolver_match.url_name == 'extra_list' %}active{% endif %}"
          >
            <i class="fas fa-plus-circle"></i> Extras
          </a>
        </li>
      </ul>

      <!-- Admin Actions -->
      {% if is_admin %}
      <div class="btn-group">
        <!-- Add Button based on current view -->
        {% if request.resolver_match.url_name == 'item_list' %}
        <a
          href="{% url 'admin:menu_menuitem_add' %}"
          class="btn btn-primary btn-sm"
        >
          <i class="fas fa-plus"></i> Add Menu Item
        </a>
        {% endif %} {% if request.resolver_match.url_name == 'extra_list' %}
        <a
          href="{% url 'admin:menu_extra_add' %}"
          class="btn btn-primary btn-sm"
        >
          <i class="fas fa-plus"></i> Add Extra
        </a>
        {% endif %}

        <!-- Admin Panel Link -->
        <a
          href="{% url 'admin:app_list' app_label='menu' %}"
          class="btn btn-outline-secondary btn-sm"
        >
          <i class="fas fa-cog"></i> Manage in Admin
        </a>
      </div>
      {% endif %}
    </div>
  </div>

  {% block menu_content %}{% endblock %}
</div>
{% endblock %}
