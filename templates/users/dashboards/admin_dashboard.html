{% extends 'base.html' %} {% block title %}Admin Dashboard | Restaurant
Management System{% endblock %} {% block extra_css %}
<style>
  .stats-card {
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s;
  }
  .stats-card:hover {
    transform: translateY(-5px);
  }
  .stats-icon {
    font-size: 2.5rem;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.2);
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .stats-content {
    padding-left: 15px;
  }
  .stats-number {
    font-size: 1.8rem;
    font-weight: bold;
  }
  .admin-card {
    background-color: #6f42c1;
    color: white;
  }
  .frontdesk-card {
    background-color: #20c997;
    color: white;
  }
  .kitchen-card {
    background-color: #fd7e14;
    color: white;
  }
  .delivery-card {
    background-color: #0d6efd;
    color: white;
  }
  .action-card {
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    height: 100%;
  }
  .action-card-header {
    background-color: #f8f9fa;
    padding: 15px;
    border-bottom: 1px solid #dee2e6;
    font-weight: bold;
  }
  .recent-users-table th,
  .recent-users-table td {
    padding: 0.5rem;
  }
</style>
{% endblock %} {% block content %}
<div class="row mb-4">
  <div class="col">
    <h1 class="h2"><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h1>
    <p class="text-muted">
      Manage staff, monitor system activities, and configure restaurant settings
    </p>
  </div>
</div>

<!-- Stats Cards -->
<div class="row mb-4">
  <div class="col-xl-3 col-md-6 mb-4">
    <div class="card stats-card admin-card">
      <div class="card-body d-flex align-items-center">
        <div class="stats-icon">
          <i class="fas fa-user-shield"></i>
        </div>
        <div class="stats-content">
          <div class="stats-number">{{ admin_count|default:"0" }}</div>
          <div>Administrators</div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-3 col-md-6 mb-4">
    <div class="card stats-card frontdesk-card">
      <div class="card-body d-flex align-items-center">
        <div class="stats-icon">
          <i class="fas fa-concierge-bell"></i>
        </div>
        <div class="stats-content">
          <div class="stats-number">{{ frontdesk_count|default:"0" }}</div>
          <div>Frontdesk Staff</div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-3 col-md-6 mb-4">
    <div class="card stats-card kitchen-card">
      <div class="card-body d-flex align-items-center">
        <div class="stats-icon">
          <i class="fas fa-utensils"></i>
        </div>
        <div class="stats-content">
          <div class="stats-number">{{ kitchen_count|default:"0" }}</div>
          <div>Kitchen Staff</div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-3 col-md-6 mb-4">
    <div class="card stats-card delivery-card">
      <div class="card-body d-flex align-items-center">
        <div class="stats-icon">
          <i class="fas fa-truck"></i>
        </div>
        <div class="stats-content">
          <div class="stats-number">{{ delivery_count|default:"0" }}</div>
          <div>Delivery Staff</div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <!-- Quick Links -->
  <div class="col-lg-4 mb-4">
    <div class="card action-card">
      <div class="action-card-header">
        <i class="fas fa-bolt"></i> Quick Actions
      </div>
      <div class="card-body">
        <div class="list-group">
          <a
            href="{% url 'users:staff_register' %}"
            class="list-group-item list-group-item-action"
          >
            <i class="fas fa-user-plus"></i> Add New Staff
          </a>
          <a
            href="{% url 'users:staff_list' %}"
            class="list-group-item list-group-item-action"
          >
            <i class="fas fa-users"></i> Manage Staff
          </a>
          <a
            href="{% url 'admin:index' %}"
            class="list-group-item list-group-item-action"
          >
            <i class="fas fa-tools"></i> Django Admin
          </a>
          <a
            href="{% url 'menu:item_list' %}"
            class="list-group-item list-group-item-action"
          >
            <i class="fas fa-utensils"></i> Menu Management
          </a>
          <a href="#" class="list-group-item list-group-item-action">
            <i class="fas fa-cog"></i> System Settings
          </a>
          <a href="#" class="list-group-item list-group-item-action">
            <i class="fas fa-file-alt"></i> Reports
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Users -->
  <div class="col-lg-8 mb-4">
    <div class="card action-card">
      <div class="action-card-header">
        <i class="fas fa-user-clock"></i> Recently Added Staff
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-hover recent-users-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Role</th>
                <th>Staff ID</th>
                <th>Date Joined</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              {% for user in recent_users %}
              <tr>
                <td>{{ user.get_full_name|default:user.username }}</td>
                <td>
                  <span
                    class="badge {% if user.role == 'admin' %}bg-purple{% elif user.role == 'frontdesk' %}bg-success{% elif user.role == 'kitchen' %}bg-warning{% elif user.role == 'delivery' %}bg-primary{% else %}bg-secondary{% endif %}"
                  >
                    {{ user.get_role_display }}
                  </span>
                </td>
                <td>{{ user.staff_id|default:"Not assigned" }}</td>
                <td>{{ user.date_joined|date:"M d, Y" }}</td>
                <td>
                  <a
                    href="{% url 'users:staff_detail' user.id %}"
                    class="btn btn-sm btn-info"
                  >
                    <i class="fas fa-edit"></i>
                  </a>
                </td>
              </tr>
              {% empty %}
              <tr>
                <td colspan="5" class="text-center">
                  No recent staff additions
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      <div class="card-footer text-end">
        <a href="{% url 'users:staff_list' %}" class="btn btn-primary btn-sm"
          >View All Staff</a
        >
      </div>
    </div>
  </div>
</div>

<!-- System Status -->
<div class="row">
  <div class="col-12 mb-4">
    <div class="card action-card">
      <div class="action-card-header">
        <i class="fas fa-chart-pie"></i> Staff Distribution
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <div class="alert alert-info">
              <i class="fas fa-info-circle"></i> Staff Distribution Chart
              <p class="mb-0 small">
                This would display a pie chart showing the proportion of
                different staff roles in a real implementation.
              </p>
            </div>
            <div class="text-center mt-3">
              <p><strong>Total Staff:</strong> {{ total_staff }}</p>
            </div>
          </div>
          <div class="col-md-6">
            <h5 class="mb-3">Role Distribution</h5>

            <div class="progress mb-3" style="height: 25px">
              <div
                class="progress-bar bg-purple"
                role="progressbar"
                style="width: {{ admin_percentage }}%"
                aria-valuenow="{{ admin_count|default:0 }}"
                aria-valuemin="0"
                aria-valuemax="{{ total_staff }}"
              >
                Admins ({{ admin_percentage }}%)
              </div>
            </div>

            <div class="progress mb-3" style="height: 25px">
              <div
                class="progress-bar bg-success"
                role="progressbar"
                style="width: {{ frontdesk_percentage }}%"
                aria-valuenow="{{ frontdesk_count|default:0 }}"
                aria-valuemin="0"
                aria-valuemax="{{ total_staff }}"
              >
                Frontdesk ({{ frontdesk_percentage }}%)
              </div>
            </div>

            <div class="progress mb-3" style="height: 25px">
              <div
                class="progress-bar bg-warning"
                role="progressbar"
                style="width: {{ kitchen_percentage }}%"
                aria-valuenow="{{ kitchen_count|default:0 }}"
                aria-valuemin="0"
                aria-valuemax="{{ total_staff }}"
              >
                Kitchen ({{ kitchen_percentage }}%)
              </div>
            </div>

            <div class="progress mb-3" style="height: 25px">
              <div
                class="progress-bar bg-primary"
                role="progressbar"
                style="width: {{ delivery_percentage }}%"
                aria-valuenow="{{ delivery_count|default:0 }}"
                aria-valuemin="0"
                aria-valuemax="{{ total_staff }}"
              >
                Delivery ({{ delivery_percentage }}%)
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
